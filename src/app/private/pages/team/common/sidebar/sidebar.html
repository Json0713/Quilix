<aside class="sidebar" [class.collapsed]="isCollapsed()" [class.mobile-open]="isMobileOpen()">
    <div class="sidebar-header">
        @if (!isCollapsed()) {
        <a class="logo-container" [routerLink]="['./']" (click)="toggleSidebar()" title="Quilix">
            <i class="bi bi-feather logo-icon"></i>
            <span class="logo-text">Quilix</span>
        </a>
        }
        <button class="toggle-btn" (click)="toggleSidebar()" [class.centered]="isCollapsed()"
            [title]="isCollapsed() ? 'Expand' : 'Close'">
            <i class="bi" [class.bi-layout-sidebar-inset]="!isCollapsed()"
                [class.bi-layout-sidebar]="isCollapsed()"></i>
        </button>
    </div>

    <nav class="sidebar-nav">
        <ul class="nav-list main-nav">
            @for (item of navItems; track item.label) {
            <li class="nav-item">
                <a [routerLink]="item.route" routerLinkActive="active"
                    [routerLinkActiveOptions]="{ exact: item.route === './' }" class="nav-link" [title]="item.label"
                    (click)="onItemClick()">
                    <i [class]="item.icon" class="nav-icon"></i>
                    @if (!isCollapsed()) {
                    <span class="nav-label">{{ item.label }}</span>
                    }
                </a>
            </li>
            }
        </ul>

        <div class="nav-section system-nav">
            @if (!isCollapsed()) {
            <div class="section-title">System</div>
            } @else {
            <div class="section-divider"></div>
            }
            <ul class="nav-list">
                @for (item of systemItems; track item.label) {
                <li class="nav-item">
                    <a [routerLink]="item.route" routerLinkActive="active"
                        [routerLinkActiveOptions]="{ exact: item.route === './' }" class="nav-link" [title]="item.label"
                        (click)="onItemClick()">
                        <i [class]="item.icon" class="nav-icon"></i>
                        @if (!isCollapsed()) {
                        <span class="nav-label">{{ item.label }}</span>
                        }
                    </a>
                </li>
                }
            </ul>
        </div>
    </nav>

    <div class="sidebar-footer">
        <div class="profile-section">
            <i class="bi bi-person-circle profile-icon"></i>
            @if (!isCollapsed()) {
            <div class="profile-info">
                <span class="profile-name">Team</span>
                <span class="profile-role">Management</span>
            </div>
            }
        </div>

        <app-team-settings-kit />
    </div>
</aside>