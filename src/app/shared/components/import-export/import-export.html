<section class="import-card" role="dialog" aria-labelledby="import-title">

  <!-- Header -->
  <header class="import-header">
    <div>
      <p>Select scope and upload a backup file</p>
    </div>

    <select [(ngModel)]="scope" aria-label="Import scope">
      <option value="workspace">Workspace</option>
      <option value="user">User</option>
    </select>
  </header>

  <!-- Dropzone -->
  <label
    class="import-dropzone"
    role="button"
    tabindex="0"

    (dragover)="onDragOver($event)"
    (dragleave)="onDragLeave($event)"
    (drop)="onDrop($event)"
  >
    <i class="bi bi-cloud-arrow-down"></i>

    <strong *ngIf="!file">Drop file here</strong>
    <strong *ngIf="file">{{ file.name }}</strong>

    <span *ngIf="!file">or click to browse (.json)</span>
    <span *ngIf="file">{{ (file.size / 1024).toFixed(1) }} KB</span>

    <input
      #fileInput
      type="file"
      accept="application/json"
      hidden
      (change)="onFileSelected($event)"
    />
  </label>

  <!-- Actions -->
  <div class="actions">
    <button
      class="btn secondary"
      (click)="clearFile()"
      [disabled]="!file || loading"
    >
      Remove
    </button>

    <button
      class="btn primary"
      (click)="submitImport()"
      [disabled]="!file || loading"
    >
      {{ loading ? 'Importingâ€¦' : 'Import' }}
    </button>
  </div>

</section>
