<section class="card">
  <h2>Create account</h2>

  <form (ngSubmit)="submit()" #form="ngForm" novalidate>

    <input
      type="text"
      name="username"
      [(ngModel)]="username"
      required
      minlength="3"
      placeholder="Username"
      autocomplete="username"
    />

    <input
      type="email"
      name="email"
      [(ngModel)]="email"
      required
      placeholder="Email address"
      autocomplete="email"
    />

    <input
      type="password"
      name="password"
      [(ngModel)]="password"
      required
      minlength="8"
      placeholder="Password (min 8 characters)"
      autocomplete="new-password"
    />

    <input
      type="tel"
      name="phone"
      [(ngModel)]="phone"
      placeholder="Phone (optional)"
      autocomplete="tel"
    />

    <select name="role" [(ngModel)]="role">
      <option value="personal">Personal</option>
      <option value="team">Team</option>
    </select>

    <button
      type="submit"
      [disabled]="loading || form.invalid"
    >
      {{ loading ? 'Creating accountâ€¦' : 'Register' }}
    </button>

    @if (error) {
      <p class="error">{{ error }}</p>
    }

    @if (success) {
      <p class="success">{{ success }}</p>
    }

  </form>

  <a routerLink="/meta/login">
    Already have an account? Log in
  </a>
</section>
