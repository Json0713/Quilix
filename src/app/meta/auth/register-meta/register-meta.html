<form
  class="register-meta"
  (ngSubmit)="submit()"
  #form="ngForm"
  novalidate
>

  <h1>Create account</h1>

  @if (error) {
    <p class="error">
      {{ error }}
    </p>
  }

  <!-- Username -->
  <label>
    <span>Username</span>
    <input
      type="text"
      name="username"
      [(ngModel)]="username"
      required
      autocomplete="username"
    />
  </label>

  <!-- Email -->
  <label>
    <span>Email</span>
    <input
      type="email"
      name="email"
      [(ngModel)]="email"
      required
      autocomplete="email"
    />
  </label>

  <!-- Password -->
  <label>
    <span>Password</span>
    <input
      type="password"
      name="password"
      [(ngModel)]="password"
      required
      minlength="8"
      autocomplete="new-password"
    />
  </label>

  <!-- Phone (optional, profile only) -->
  <label>
    <span>Phone (optional)</span>
    <input
      type="tel"
      name="phone"
      [(ngModel)]="phone"
      autocomplete="tel"
    />
  </label>

  <!-- Role -->
  <fieldset>
    <legend>Account type</legend>

    <label>
      <input
        type="radio"
        name="role"
        value="personal"
        [(ngModel)]="role"
      />
      Personal
    </label>

    <label>
      <input
        type="radio"
        name="role"
        value="team"
        [(ngModel)]="role"
      />
      Team
    </label>
  </fieldset>

  <!-- Submit -->
  <button
    type="submit"
    [disabled]="loading || form.invalid"
  >
    @if (loading) {
      Creating accountâ€¦
    } @else {
      Create account
    }
  </button>

  <!-- Login link -->
  <p class="login-link">
    Already have an account?
    <a routerLink="/meta/login">Log in</a>
  </p>

</form>
