/* =====================================================
   THEME TOKENS
   ===================================================== */

:root {
  /* ================= Brand ================= */
  --primary: #1a3a3f;
  --primary-hover: #2e646b;
  --primary-soft: #244f55;

  /* ================= Accent ================= */
  --accent: #4fa3a8;
  --accent-hover: #3f8f94;
  --accent-soft: #e1f3f4;

  /* ================= Actions ================= */
  --action: #f59e0b;
  --action-soft: #fef3c7;
  --action-hover: #d97706;

  /* ================= Background ================= */
  --bg: #f4f8f9;
  --bg-hover: #a4d5d5d6;
  --bg-alt: #abd2d290;
  --bg-muted: #abd2d29e;
  --bg-active: #87c9c9;
  --bg-accent: #0e686f;

  /* ================= Surface ================= */
  --surface: #e7ecec;
  --surface-main: #d3e5de;
  --surface-alt: #eef3f4;
  --surface-muted: #eef3f4;

  /* ================= Borders ================= */
  --border: #d5e3e6;
  --border-strong: #b7cdd2;

  /* ================= Text ================= */
  --text-main: #0f2e32;
  --text-alt: #59767d;
  --text-muted: #6f8f95;
  --text-disabled: #3f5f65;
  --text-white: #ffffff;

  /* ================= Status ================= */
  --success: #4caf8f;
  --warning: #e6a23c;
  --danger: #d9534f;

  /* ================= App Background ================= */
  --app-bg-light: #d8e3e4;
  --app-bg-dark: #2b2a2a;
  --app-bg: var(--app-bg-light);

  /* ================= Motion ================= */
  --theme-transition: 300ms;
}


/* =====================================================
   DARK THEME OVERRIDES
   ===================================================== */

html.dark-theme {
  /* Brand */
  --primary: #244f55;
  --primary-hover: #3f8f94;
  --primary-soft: #1a3a3f;

  /* Accent */
  --accent: #3f8f94;
  --accent-hover: #4fa3a8;
  --accent-soft: #1a3a3f;

  /* Actions */
  --action: #d97706;
  --action-hover: #f59e0b;
  --action-soft: #2e646b;

  /* Background */
  --bg: #484646;
  --bg-hover: #463f3ff3;
  --bg-alt: #463f3fab;
  --bg-muted: #463f3ff3;
  --bg-active: #565050e9;
  --bg-accent: #2b2a2a;

  /* Surface */
  --surface: #373434;
  --surface-main: #272222;
  --surface-alt: #2d2a2a;
  --surface-muted: #2b2a2a;

  /* Text */
  --text-main: #ffffff;
  --text-alt: #d5e3e6;
  --text-muted: #9fb3b8;
  --text-disabled: #9fb3b8;

  /* App Background */
  --app-bg: var(--app-bg-dark);
}

/* ============================================================
   Light Theme Overrides (Explicit User Choice)
   ============================================================ */
html.dark-theme {
  --app-bg: var(--app-bg-dark);
}

html.light-theme {
  --app-bg: var(--app-bg-light);
}

/* ============================================================
   System Preference (No Class Applied)
   ============================================================ */
@media (prefers-color-scheme: dark) {
  html:not(.light-theme):not(.dark-theme) {
    --app-bg: var(--app-bg-dark);
  }
}

@media (prefers-color-scheme: light) {
  html:not(.light-theme):not(.dark-theme) {
    --app-bg: var(--app-bg-light);
  }
}

/* ============================================================
   Base Layout
   ============================================================ */
html,
body {
  height: 100%;
  margin: 0;
  background-color: var(--app-bg, #2b2a2a);
  color-scheme: light dark;
}

/* ============================================================
   Reduced Motion
   ============================================================ */
@media (prefers-reduced-motion: reduce) {
  :root {
    --theme-transition: 0ms;
  }
}

/* =============== OVERLAY SCROLLBAR =============== */
/* Firefox */
html,
body,
* {

  /* Custom Scrollbar */
  .main::-webkit-scrollbar {
    width: 6px;
  }

  .main::-webkit-scrollbar-thumb {
    background-color: rgba(22, 81, 93, 0.834);
    border-radius: 3px;
  }
}

/* WebKit (Chrome, Edge, Safari) */
html::-webkit-scrollbar,
body::-webkit-scrollbar,
*::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

/* Back of Scrollbar */
html::-webkit-scrollbar-track,
body::-webkit-scrollbar-track,
*::-webkit-scrollbar-track {
  background: transparent;
}

/* Scrollbar */
html::-webkit-scrollbar-thumb,
body::-webkit-scrollbar-thumb,
*::-webkit-scrollbar-thumb {
  background-color: rgba(12, 117, 138, 0.568);
  border-radius: 999px;
}

/* Hover (still subtle) */
html::-webkit-scrollbar-thumb:hover,
body::-webkit-scrollbar-thumb:hover,
*::-webkit-scrollbar-thumb:hover {
  background-color: rgb(12, 117, 138);
}

/* Custom Scrollbar */
.main::-webkit-scrollbar {
  width: 6px;
}

.main::-webkit-scrollbar-thumb {
  background-color: (9, 91, 108, 0.834);
  border-radius: 3px;
}

/* Mobile / small screens */
@media (max-width: 768px) {

  html::-webkit-scrollbar,
  body::-webkit-scrollbar,
  *::-webkit-scrollbar {
    width: 2px;
    height: 2px;
  }

  html::-webkit-scrollbar-thumb,
  body::-webkit-scrollbar-thumb,
  *::-webkit-scrollbar-thumb {
    background-color: (9, 91, 108, 0.834);
  }
}

/* ============================================================
   Global Custom Tooltip
   ============================================================ */
.tooltip-container {
  position: fixed;
  z-index: 10000;
  pointer-events: none;
  background-color: var(--surface-main);
  color: var(--text-main);
  padding: 8px 16px;
  border-radius: 50px;
  font-size: 13px;
  font-weight: 500;
  white-space: nowrap;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
  opacity: 0;
  transition: opacity 250ms ease, transform 250ms ease;
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.05);

  /* Shared transform logic */
  &.pos-top {
    transform: translate(-50%, -100%) translateY(-10px);

    &.visible {
      transform: translate(-50%, -100%) translateY(-8px);
    }

    .tooltip-tail {
      bottom: -6px;
      border-top: 6px solid var(--surface-main);
    }
  }

  &.pos-bottom {
    transform: translate(-50%, 0%) translateY(10px);

    &.visible {
      transform: translate(-50%, 0%) translateY(8px);
    }

    .tooltip-tail {
      top: -6px;
      border-bottom: 6px solid var(--surface-main);
    }
  }

  &.visible {
    opacity: 1;
  }

  .tooltip-tail {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
  }
}